require 'csv'
# testing the visual display of banking.
	DATA =  [["LOCATION", "TYPE"],["OWL LIQUOR 913 HICKOX STREET SANTA FE NM","ALCOHOL"],["NEUROLOGICAL ASSOCIATES SANTA FE NM", "HEALTH"], ["ANNAPURNA'S WORLD SANTA FE NM", "FOOD"], ["LA MONTANITA FOOD COOP SANTA FE NM", "GROCERY"], ["THE RUNNING HUB SANTA FE CA", "SHOES"], ["SQ *SWEETWATER HARVEST Santa Fe NM", "FOOD"], ["AMAZON BOOKS", "BOOK"], ["JEAN COCTEAU CINEMA", "MOVIE"], ["Providence Health and Services", "HEALTH"], ["PHO KIM SANTA FE NM", "FOOD"], ["Swiss Bistro and Bakery Santa Fe NM", "FOOD"], ["TUNE-UP CAFE SANTA FE NM", "FOOD"], ["SQ *BETTERDAY COFFEE Santa Fe NM", "COFFEE"], ["SQ *SANTA FE SPIRITS DO Santa Fe NM", "ALCOHOL"], ["THE TEA HOUSE SANTA FE NM", "FOOD"], ["THAI VEGAN SANTA FE NM", "FOOD"], ["INDIA PALACE SANTA FE NM", "FOOD"], ["Payroll", "PAYCHECK"], ["THE BODY CAFE SANTA FE NM", "FOOD"], ["SANTA FE INTERNATIONAL SANTA FE NM", "ART"], ["SQ *CAVEMAN COFFEE CAFE Santa Fe NM", "COFFEE"], ["IZMI SUSHI RESTAURANT SANTA FE NM", "FOOD"], ["HOTEL ST FRANCIS REST SANTA FE NM", "ALCOHOL"], ["CAFE FINA SANTA FE NM", "FOOD"], ["KOHNAMI RESTAURANT SANTA FE NM", "FOOD"], ["DOUBLETAKE SANTA FE NM", "CLOTHES"], ["HARRY'S ROADHOUSE SANTA FE NM", "FOOD"], ["HOLY SPIRIT ESPRESSO SANTA FE NM", "COFFEE"], ["WHOLEFDS STF 103 1090 S Santa Fe NM", "GROCERY"], ["AMAZON MKTPLACE PMTS AMZN.COM/BILL WA", "BOOK"], ["THE BURRITO COMPANY SANTA FE NM", "FOOD"], ["EL TESORO CAFE SANTA FE NM", "FOOD"], ["HEATH CARE", "HEALTH"], ["ZIA DINER SANTA FE NM", "FOOD"], ["Lois Lipman", "RENT"], ["MARIAS NEW MEXICAN SANTA FE NM", "FOOD"], ["AVIANDS - ST JOHNS COL SANTA FE NM", "LIBRARY"], ["CITY OF SF PARKING ADMI SANTA FE NM", "PARKING"], ["BLUE CORN SANTA FE NM", "FOOD"], ["VIOLET CROWN CINEMA SAN AUSTIN TX", "MOVIE"], ["EL FAROL INC SANTA FE NM", "ALCOHOL"], ["SAN Q SUSHI SANTA FE NM", "FOOD"], ["UPPER CRUST PIZZA SANTA FE NM", "FOOD"], ["ARTISAN SANTA FE-CE SANTA FE NM", "ART"], ["TESUQUE VILLAGE MARKET SANTA FE NM", "FOOD"], ["WHOLEFDS CER 101 753 Ce Santa Fe NM", "GROCERY"], ["CHOPSTIX ORIENTAL FOOD SANTA FE NM", "FOOD"], ["SQ *SWEET LILY BAKERY Santa Fe NM", "COFFEE"], ["CASA CHIMAYO SANTA FE NM", "ALCOHOL"], ["NATURAL STONES SANTA FE NM", "ROCKS"], ["THAI CAFE SANTA FE NM", "FOOD"], ["JEAN COCTEAU CINEMA 000-0000000 NM", "MOVIE"], ["SECOND STREET BREWERY A SANTA FE NM", "FOOD"], ["MASA SUSHI SANTA FE NM", "FOOD"], ["TERRACOTTA WINE BISTRO SANTA FE NM", "FOOD"], ["SQ *BANG BITE FILLING S Santa Fe NM", "FOOD"], ["LA BOCA SANTA FE NM", "FOOD"], ["Guadalupe CU Don Diego 1101 Don Diego Avenue Santa Fe NM", "CASH"], ["Non UFCU ATM Fee  GIANT 6863 SANTA F 1229 CERRILLOS ROA  SANTA FE NM LK637907", "CASH"], ["ATM Withdrawal  GIANT 6863 SANTA F 1229 CERRILLOS ROASANTA FE NM LK637907", "CASH"], ["LA FONDA ON THE PLAZA SANTA FE NM", "ALCOHOL"], ["IRS  TREAS 310 : TAX REF  ID: CO: IRS  TREAS 310 ACH ECC PPD", "TAXES"], ["KAKAWA SANTA FE NM", "CHOCOLATE"], ["SFUAD SANTA FE NM", "LIBRARY"], ["TAOS COW ICE CREAM CO ARROYO SECO NM", "FOOD"], ["northwest emergency physicians", "HEALTH"], ["COFFEE SPOT TAOS NM", "FOOD"], ["THE ADOBE BAR TAOS NM", "FOOD"], ["ANGEL FIRE MINI/3394 HI ANGEL FIRE NM", "GAS"], ["Guadalupe CU Don Diego 1101 Don Diego Avenue Santa Fe NM Check hold release      100.00", "CASH"], ["SHOHKO CAFE SANTA FE NM", "FOOD"], ["OJO CALIENTE-SPA OJO CALIENTE NM", "HOT SPRINGS"], ["Guadalupe CU Don Diego 1101 Don Diego  Avenue Santa Fe NM", "CASH"], ["ROOFTOP PIZZERIA SANTA FE NM", "FOOD"], ["BACK ROAD PIZZA SANTA FE NM", "FOOD"], ["TOKYO CAFE SANTA FE NM", "FOOD"], ["PIZZA CENTRO SANTA FE NM", "FOOD"], ["ZACATECAS ALBUQUERQUE NM", "FOOD"], ["COWGIRL BBQ SANTA FE NM", "FOOD"], ["ALPINE SPORTS INC SANTA FE NM", "SHOES"], ["ROSS STORE  SANTA FE NM", "CLOTHES"], ["Big Star Books Santa Fe NM", "BOOK"], ["Non UFCU ATM Fee  CU ANYTIME 913 WEST ALAMEDA SANTA FE NM  COXK238C", "CASH"], ["ATM Withdrawal  CU ANYTIME 913 WEST ALAMEDA SANTA FE NMCOXK238C", "CASH"], ["ICONIK COFFEE ROASTERS SANTA FE NM", "COFFEE"], ["RIDGEBACK CAFE JEMEZ SPRINGS NM", "FOOD"], ["GOOGLE *YouTube GOOGLE.COM/CH CA", "MOVIE"], ["ISIS MEDICINE, P.C. LA CIENGA NM", "HEALTH"], ["SPROUTS FARMERS MKT SANTA FE NM", "GROCERY"], ["JAMBO CAFE SANTA FE NM", "FOOD"], ["BERTS BURGER BOWL SANTA FE NM", "FOOD"], ["CLEOPATRAS CAFE 1 SANTA FE NM", "FOOD"], ["SMITHS 2308 CERILLOS SANTA FE NM", "GROCERY"], ["JEAN COCTEAU CINEMA USA NM", "MOVIE"], ["MARBLE BREWERY TAP ROO SANTA FE NM", "ALCOHOL"], ["CHICAGO DOG EXPRESS 505-9842798 NM", "FOOD"], ["TINY'S RESTAURANT & LOU SANTA FE NM", "ALCOHOL"], ["Non UFCU ATM Fee  INQ GIANT 6863 SANTA F 1229 CERRILLOS ROA  SANTA FE NM LK637907", "CASH"], ["VINAIGRETTE SANTA FE NM", "FOOD"], ["ATM Withdrawal  Century Bank 1607 Paseo de Peralta SantaFe NM 09107010", "CASH"], ["SQ *SANTA FE FARMERS MA Santa Fe NM", "GROCERY"], ["Non UFCU ATM Fee  Century Bank 1607 Paseo de Peralta Santa  Fe NM 09107010", "CASH"], ["SQ *BAMBINI'S STEAKS AN Santa Fe NM", "FOOD"], ["Tortilla Flats Santa Fe NM", "FOOD"], ["Guadalupe CU Airport Br 3721 Academy Rd Santa Fe NM", "CASH"], ["LULU PRESS INC 919-459-5858 NC", "BOOK"], ["CENTER FOR COMTEMPORAY SANTA FE NM", "ART"], ["Non UFCU ATM Fee  Cardtronics CCSD 200 W SAN FRANCISCO ST  SANTA FE NM CT004201", "CASH"], ["ATM Withdrawal  Cardtronics CCSD 200 W SAN FRANCISCO STSANTA FE NM CT004201", "CASH"], ["DUEL BREWING SANTA FE NM", "ALCOHOL"], ["SQ *SIERRA LUSK Santa Fe NM", "FOOD"], ["HOTEL CHIMAYO LOUNGE SANTA FE NM", "ALCOHOL"], ["BCBS HEALTH INS TYPE: BINDER PMT  ID:  CO: BCBS HEALTH INS ACH ECC WEB", "HEALTH"], ["ABIQUIU CAFE ABIQUIU NM", "FOOD"], ["NNT GOODWILL INDUST261021 3060 CERRILLOS RD SANTA FE NM", "CLOTHES"], ["DEATH VALLEY-BADWATER A DEATH VALLEY CA", "GAS"], ["HERBS ETC SANTA FE NM", "HERBS"], ["PHS WAMT E BUS OFFICE 866-7472455 OR", "GAS"], ["SOUTH SOUND RADIOLOGY L  WA", "HEALTH"], ["UA DEVARGAS MALL CINEMA SANTA FE NM", "MOVIE"], ["CAFE PASQUALS SANTA FE NM", "FOOD"], ["SPROUTS FARMERS MAR SANTA FE NM", "GROCERY"], ["CVS 09269 09269--195 Pa Santa Fe NM", "NO IDEA"], ["USAVE TRUCK STOP GALLUP NM", "GAS"], ["THE DINKY DINER GOLDFIELD NV", "FOOD"], ["ECONOMY INN TONOPAH NV", "LODGING"], ["WICKED AZ COFFEE FLAGSTAFF AZ", "COFFEE"], ["NIBBLEY'S CAFE KLAMATH FALLS OR", "FOOD"], ["SUMMIT INN WEED CA", "LODGING"], ["BERRYVALE GROCERY MOUNT SHASTA CA", "GROCERY"], ["ALBINA PRESS PORTLAND OR", "COFFEE"], ["DETOUR CAFE PORTLAND OR", "FOOD"], ["R AND D MARKET 109656 HIGHWAY 97 N CHEMULT OR", "GAS"], ["SQ *KURE JUICE BAR Portland OR", "JUICE"], ["SARAH JOHNSON : POPMONEY  ID: CO: SARAH JOHNSON ACH ECC WEB", "SARAH"], ["SAMUI THAI KITCHEN PORTLAND OR", "FOOD"], ["PBP*SEATTLE PAYBYPHONE 866-7837787 NY", "GAS"], ["FALAFEL KING/1509 1ST A SEATTLE WA", "FOOD"], ["SQ *SKY RIVER BAKERY IN Monroe WA", "FOOD"], ["WOODINVILLE BRANCH[ASB] 17601 140TH AVE. NE SHA WOODINVILLE WA", "CASH"], ["CAFE ZIPPYS LLC EVERETT WA", "FOOD"], ["SHELL OIL 5 MONROE WA", "GAS"], ["CREPE ESCAPE SNOHOMISH WA", "FOOD"], ["ATM Withdrawal  BANK OF AMERICA *KIRKLAND KIRKLAND WAIWAN1510", "CASH"], ["Non UFCU ATM Fee  BANK OF AMERICA *KIRKLAND KIRKLAND WA  IWAN1510", "CASH"], ["AMERICAN CAFE & GRILL MONROE WA", "FOOD"], ["DARBYS CAFE OLYMPIA WA", "FOOD"], ["THYME FOR HEALTH LLC MONROE WA", "HERBS"], ["GENIE'S CAFE PORTLAND OR", "FOOD"], ["HOP N SHOP VANCOUVER WA", "GAS"], ["CTY CTR PARKNG 0610270A PORTLAND OR", "PARKING"], ["HONEY BEAR BAKERY LAKE FOREST P WA", "KNIFE"], ["TOWNE CENTRE HAR 17171 BOTHELL WAY NUS LAKE FOREST P WA", "GAS"], ["KRUGERS FAMILY FARMS IN PORTLAND OR", "GROCERY"], ["RELAX INN CHEHALIS 550 SW PARKLAND DRIVE CHEHALIS WA", "LODGING"], ["ROOTS CAFE SALT LAKE CIT UT", "FOOD"], ["POWELL'S BURNSIDE PORTLAND OR", "BOOK"], ["ECONO LODGE PROVO UT", "LODGING"], ["SQ *THE FRESH POT Portland OR", "COFFEE"], ["JACOB SNIDER : BILL PMT  ID: CO: JACOB SNIDER ACH ECC PPD", "RENT"], ["PAYPAL TYPE: VERIFYBANK  ID: PAYPALRD33 CO: PAYPAL ACH ECC PPD", "CASH"], ["PAYPAL : VERIFYBANK  ID: PAYPALRD33CO: PAYPAL ACH ECC PPD", "CASH"], ["CHEVRON 00202626 ONTARIO OR", "GAS"], ["STATION COFFEE & FINE T SANTA FE NM", "COFFEE"], ["CAFFEINE & CO INC SANTA FE NM", "COFFEE"], ["BURRO ALLEY CAFE SANTA FE NM", "FOOD"], ["INN OF THE ANASAZI SANTA FE NM", "ALCOHOL"], ["SY8 ST. JOHN'S COLL961736 1160 CAMINO CRUZ BLANCA SANTA FE NM", "LIBRARY"], ["SECOND STREET BREWERY SANTA FE NM", "ALCOHOL"], ["DEL CHARRO SANTA FE NM", "FOOD"], ["MI TIERRA RESTAURANT HOBBS NM", "FOOD"], ["SANDS MOTEL PORTALES NM", "LODGING"], ["ALLSUPS  215 WEST VAUGHN NM", "GAS"], ["MOUTONS SOUTHERN BISTR LEANDER TX", "FOOD"], ["TEXAS FRENCH BREAD AUSTIN TX", "FOOD"], ["KERBEY LANE CAFE-CENTRA 512-4511436 TX", "FOOD"], ["SPIDER HOUSE AUSTIN TX", "ALCOHOL"], ["JUICELAND GUADALUPE AUSTIN TX", "JUICE"], ["EPOCH COFFEE AUSTIN TX", "COFFEE"], ["Non UFCU ATM Fee  Cardtronics CCSM 2820 GUADALUPE AUSTIN TX  CD011041", "CASH"], ["HOLE IN THE WALL AUSTIN TX", "ALCOHOL"], ["ATM Withdrawal  Cardtronics CCSM 2820 GUADALUPE AUSTIN TXCD011041", "CASH"], ["CHANGOS AUSTIN TX", "FOOD"], ["BUDGET INN COLEMAN TX", "LODGING"], ["ALLSUPS 346 SANTA FE NM", "GAS"], ["CLINES CORNERS 66 CLINES CORNER NM", "GAS"], ["SQ *THE BEESTRO Santa Fe NM", "FOOD"], ["THE PALACE RESTAURANT & SANTA FE NM", "ALCOHOL"], ["CVS 10227 10227--2907 C SANTA FE NM", "NO IDEA"], ["ST FRANCIS HTL REST LN SANTA FE NM", "ALCOHOL"], ["SQ *UNDISPUTED FITN SANTA FE NM", "COFFEE"], ["EL PASEO BAR & GRILL SANTA FE NM", "ALCOHOL"], ["ATM Withdrawal  FIRST NATIONAL 530 S GUADALUPE SANTA FE NMNM000040", "CASH"], ["Non UFCU ATM Fee  FIRST NATIONAL 530 S GUADALUPE SANTA FE NM  NM000040", "CASH"], ["SWISS BAKERY & BISTRO SANTA FE NM", "FOOD"], ["EL RIGOBERTOS TACO SHOP LOS ALAMOS NM", "FOOD"], ["ACEQ ARROYO SECO NM", "LODGING"], ["USPS  120 SOUTH FEDERAL PLACE SANTA FE NM", "MAIL"], ["SQ *THE GOOD STUFF Santa Fe NM", "BOOK"], ["AmazonPrime Membership amzn.com/prme NV", "BOOK"], ["ADELITAS INC SANTA FE NM", "NO IDEA"], ["WHOLE FOODS MARK 1090 S Santa Fe NM", "GROCERY"], ["BENT STREET CAFE & DELI TAOS NM", "FOOD"], ["Non UFCU ATM Fee  U.S. BANK US BANK TAOS MAIN WEST TAOS NM  SUS4R952", "CASH"], ["SOL FOOD NATURAL MARKET ARROYO SECO NM", "GROCERY"], ["ATM Withdrawal  U.S. BANK US BANK TAOS MAIN WEST TAOS NMSUS4R952", "CASH"], ["LAMBERTS OF TAOS TAOS NM", "FOOD"], ["ABOMINABLE SNOW MANSION 575-7768298 NM", "LODGING"], ["REI  SANTA 500 Mark SANTA FE NM", "BIKE"], ["TIA SOPHIAS SANTA FE NM", "FOOD"], ["SQ *CHEZ MAMOU FRENCH C Santa Fe NM", "FOOD"], ["Non UFCU ATM Fee  FIRST NATIONAL 62 LINCOLN ST SANTA FE NM  NM000026", "CASH"], ["ATM Withdrawal  FIRST NATIONAL 62 LINCOLN ST SANTA FE NMNM000026", "CASH"], ["DOWNTOWN SUBSCRIPTION SANTA FE NM", "COFFEE"], ["SANTA FE BAKING COMPANY SANTA FE NM", "FOOD"], ["Non UFCU ATM Fee  INQ CU ANYTIME 913 WEST ALAMEDA SANTA FE  NM COXK238C", "CASH"], ["SQ *ICONIK COFFEE ROAST Santa Fe NM", "COFFEE"], ["EL EVATION BISTRO SANTA FE NM", "FOOD"], ["MOUSER ELECTRONICS DIS 800-346-6873 TX", "ELECTRONICS"], ["BALCONIES SF SANTA FE NM", "FOOD"], ["DKC*DIGI KEY CORP 800-344-4539 MN", "ELECTRONICS"], ["WHOLE FOODS MARK 753 Ce Santa Fe NM", "GROCERY"], ["CAPITOL COFFEE LLC SANTA FE NM", "COFFEE"], ["PALACIO CAFE SANTA FE NM", "FOOD"], ["INDIA HOUSE SANTA FE NM", "FOOD"], ["TUBEDEPOT 901-507-2726 TN", "ELECTRONICS"], ["RUSHMYPASSPORT.COM 866-261-1277 FL", "PASSPORT"], ["ALLSUPS CONV STO 305 N GUADALUPE SANTA FE NM", "CASH"], ["ALLSUPS  SANTA FE NM", "GAS"], ["Debit Card Fee  VISA INTERNATIONAL SERVICE ASSESSMENT  Date", "GAS"], ["MONTEZUMA COFFEE COMPAN SANTA FE NM", "COFFEE"], ["Zenni Optical 800-211-2105 CA", "GLASSES"], ["INDIGO INSTRUMENTS 519-746-4761 CA", "PRISM"], ["THE CANDYMAN STRINGS & SANTA FE NM", "MUSIC"], ["JUNCTION RESTAURANT SANTA FE NM", "ALCOHOL"], ["WHOLE FOODS MARK 1090 S Saint Francis Dr Santa Fe NM", "GROCERY"], ["FLYING STAR -SF SANTA FE NM", "FOOD"], ["TALIN MARKET WORLD FOOD 505 CERRILLOS RD, B101 SANTA FE NM", "FOOD"], ["Dotfoil LLC SANTA FE NM", "ELECTRONICS"], ["SONGS ASIAN RESTAURANT TAOS NM", "FOOD"], ["SWISS BISTRO & BAKERY SANTA FE NM", "FOOD"], ["SPROUTS FARMERS 199 PAS SANTA FE NM", "GROCERY"], ["GIANT 6863 SANTE FE NM", "GAS"], ["ALBERTSONS SANTA FE NM", "FOOD"], ["IL VICINO SANTA FE SANTA FE NM", "FOOD"], ["EL FAROL SANTA FE NM", "FOOD"], ["SQ *TRAVEL BUG Santa Fe NM", "COFFEE"], ["SQ *SWEET LILY BAKE SANTA FE NM", "COFFEE"], ["ALICIAS TORTILLERIA SANTA FE NM", "FOOD"], ["Non UFCU ATM Fee  EVANGELOS 200 W SAN FRANCISC SANTA FE NM  81934419", "CASH"], ["TUNE UP CAFE SANTA FE NM", "FOOD"], ["PACK SHIP & MAIL SANTA FE NM", "MAIL"], ["ATM Withdrawal  EVANGELOS 200 W SAN FRANCISC SANTA FE NM81934419", "CASH"]]
	FILES_PATH = File.expand_path('./../../src/accounting', __FILE__).freeze

# ["07/21/2015", "NEUROLOGICAL ASSOCIATES SANTA FE NM", 
# "-$50.00", "$654.76", "HEALTH"]

	def setup
		text_font create_font("SanSerif",10);
		# size(1920,1080) #JackRabbit
		square = [1080] * 2  + [P3D] # 800
		@w,@h = [square[0]/2] * 2
		size(*square) ; @bs = [height,width].min
		@i, @t = [0] * 2 ; background(0)
		@colors = (0..3).map{|i|rand(255)}
		frame_rate 50 ; colorMode(HSB,360,100,100)
		no_fill() ; lights() ; no_stroke

		file = "#{FILES_PATH}/processed_history.csv"

		loc_type_pair = DATA
		@with_type = CSV.read(file).map do |line|
			type = loc_type_pair.detect{|loc,type| loc == line[1]}[1]
			line[4] = type ; line
		end
	end

	def text_block(string='')
		fill(0,0,0) ; no_stroke
		rect(@w-40,@h-40,@w+40,@h+40)
		fill(200, 140, 0)
		text(string,@w,@h)
	end

	def draw
		@with_type.each do |listing|
			date,location,del,tot,type = listing[0..4]
			
		end

		fill(@i%360,100,100-(@i/(3.6*5)))
		ellipse((r-@i/5.0)*x+@w,(r-@i/5.0)*y+@h,30,30)
		# set((r-@i/2.0)*x+@w,(r-@i/2.0)*y+@h,color(@i%360,100,100))

		@t += 1
		%x(rp5 run pure_sarah.rb) if @t == 2000 # better would be radius

	end
